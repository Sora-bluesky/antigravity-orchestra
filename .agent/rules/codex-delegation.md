# Codex Delegation Rule

Codex CLI への委譲に関するルール。

## 基本原則

Codex CLI は「深い推論が必要なタスク」を担当する。

## Codex に委譲するタスク

| タスク | 理由 |
|--------|------|
| アーキテクチャ設計 | 複数の選択肢を比較検討する必要がある |
| テスト設計（TDD） | テストケースの網羅性を考慮する必要がある |
| デバッグ | 根本原因の分析が必要 |
| コードレビュー | 客観的な視点で品質を評価する必要がある |
| トレードオフ分析 | 複数の観点からの比較が必要 |

## Codex に委譲しないタスク

| タスク | 理由 |
|--------|------|
| ファイル編集 | Antigravity が直接行う |
| リサーチ | Antigravity 自身が 1M トークンを活用 |
| ユーザーとの会話 | Antigravity が担当 |
| 単純なコード生成 | Codex の深い推論は不要 |

## 委譲時のプロトコル

1. **コンテキストを渡す**: 関連ファイル、背景情報
2. **質問を明確に**: 何を判断してほしいか
3. **出力形式を指定**: 構造化された回答を要求
4. **結果を記録**: `logs/codex-responses/` に保存

## 委譲の例

```
良い委譲:
「このコードのセキュリティ脆弱性を分析して」
「この2つのアプローチのトレードオフを比較して」

悪い委譲:
「このファイルを編集して」（→ Antigravity が直接行う）
「このライブラリについて調べて」（→ Antigravity が行う）
```
